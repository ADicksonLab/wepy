<!DOCTYPE html>

<html lang="en" data-content_root="../../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Working with HDF5 &#8212; Wepy Documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css?v=77553476" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/basic.css?v=c058f7c8" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/alabaster.css?v=b1d2a1f0" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/custom.css?v=4f057836" />
    <script src="../../../../_static/documentation_options.js?v=fc837d61"></script>
    <script src="../../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="canonical" href="https://adicksonlab.github.io/wepy/_source/tutorials/data_analysis/hdf5_access/README.html" />
    <link rel="icon" href="../../../../_static/wepy-icon.ico"/>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="Introducing Observables" href="../observable_intro/README.html" />
    <link rel="prev" title="Analyzing Wepy Data" href="../index.html" />
   
  <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="../index.html" title="Previous document">Analyzing Wepy Data</a>
        </li>
        <li>
          <a href="../observable_intro/README.html" title="Next document">Introducing Observables</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <section id="working-with-hdf5">
<h1>Working with HDF5<a class="headerlink" href="#working-with-hdf5" title="Link to this heading">¶</a></h1>
<p>The wepy.hdf5 module is part of the WEPY (Weighted Ensemble Pathway)
framework, used for handling HDF5 files that store simulation data. This
module helps in reading, writing, and managing the simulation data
stored in HDF5 format.</p>
<p>To work with an HDF5 file, you need to create a WepyHDF5 object. It is a
good idea to open the file “r+” mode which will append to the file
instead of overwriting it.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">wepy.hdf5</span> <span class="kn">import</span> <span class="n">WepyHDF5</span>

<span class="c1"># Open an existing HDF5 file or create a new one</span>
<span class="n">wepy_h5</span> <span class="o">=</span> <span class="n">WepyHDF5</span><span class="p">(</span><span class="s1">&#39;path_to_your_file.h5&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;r+&#39;</span><span class="p">)</span>  <span class="c1"># &#39;r&#39; for read, &#39;w&#39; for write, &#39;a&#39; for append</span>
</pre></div>
</div>
<p>You can access the trajectories stored in the HDF5 file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">wepy_h5</span><span class="p">:</span>
    <span class="n">trajs</span> <span class="o">=</span> <span class="n">wepy_h5</span><span class="o">.</span><span class="n">get_run_trajs</span><span class="p">(</span><span class="n">run_idx</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>To extract specific data, such as configurations or observables:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">wepy_h5</span>
    <span class="n">configurations</span> <span class="o">=</span> <span class="n">wepy_h5</span><span class="o">.</span><span class="n">get_run_configurations</span><span class="p">(</span><span class="n">run_idx</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">observables</span> <span class="o">=</span> <span class="n">wepy_h5</span><span class="o">.</span><span class="n">get_run_observable_field</span><span class="p">(</span><span class="n">run_idx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">obs_field</span><span class="o">=</span><span class="s1">&#39;your_observable&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To write data into the HDF5 file:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">wepy_h5</span><span class="p">:</span>
    <span class="n">wepy_h5</span><span class="o">.</span><span class="n">add_run</span><span class="p">(</span><span class="n">new_run</span><span class="p">)</span>
    <span class="n">wepy_h5</span><span class="o">.</span><span class="n">add_run_configurations</span><span class="p">(</span><span class="n">run_idx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">configurations</span><span class="o">=</span><span class="n">new_configurations</span><span class="p">)</span>
    <span class="n">wepy_h5</span><span class="o">.</span><span class="n">add_run_observable_field</span><span class="p">(</span><span class="n">run_idx</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">obs_field</span><span class="o">=</span><span class="s1">&#39;your_observable&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">new_data</span><span class="p">)</span>
</pre></div>
</div>
<p>Always close the HDF5 file after operations:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">wepy_h5</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="../index.html" title="Previous document">Analyzing Wepy Data</a>
        </li>
        <li>
          <a href="../observable_intro/README.html" title="Next document">Introducing Observables</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../../../../index.html">
    <img class="logo" src="../../../../_static/wepy.svg" alt="Logo" />
    
    <h1 class="logo logo-name">wepy</h1>
    
  </a>
</p>



<p class="blurb">Wepy Documentation</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=ADicksonLab&repo=wepy&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../introduction.html">Introduction &amp; Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../quick_start/index.html">Quick Start</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../troubleshooting.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../reference.html">HDF5 Reporter Data Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary.html">Glossary</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../general_info.html">General Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../news.html">News and Updates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev_guide.html">Development Guide</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../index.html">Documentation overview</a><ul>
  <li><a href="../../index.html">Tutorials</a><ul>
  <li><a href="../index.html">Analyzing Wepy Data</a><ul>
      <li>Previous: <a href="../index.html" title="previous chapter">Analyzing Wepy Data</a></li>
      <li>Next: <a href="../observable_intro/README.html" title="next chapter">Introducing Observables</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Michigan State University.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.0.2</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="../../../../_sources/_source/tutorials/data_analysis/hdf5_access/README.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>