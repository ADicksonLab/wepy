
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>wepy.boundary_conditions package &#8212; wepy 1.0.1+3.gd209e73 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <div class="section" id="module-wepy.boundary_conditions">
<span id="wepy-boundary-conditions-package"></span><h1>wepy.boundary_conditions package<a class="headerlink" href="#module-wepy.boundary_conditions" title="Permalink to this headline">¶</a></h1>
<p>Library of and framework for making boundary conditions in wepy simulations.</p>
<p>In many simulations you would like to apply external constraints upon
the dynamics of a simulation. For example in ligand unbinding
simulations you may want to recognize and act on the fact that a
ligand has reached some sort of threshold distance away from it’s
originally bound protein. The <cite>LigandUnbinding</cite> boundary condition
class does exactly this and modifies the walker state to restart it in
the original starting position instead of continuing the dynamics of
the runner. Another possible way to implement this would be to only
change a single data field in the walker state that tells you the
“color” of the walker which indicates the last boundary it crossed,
without interrupting the dynamical continuity of the
simulation. However, the analysis routines in <cite>wepy</cite> are adapted to
deal with such discontinuities if you desire such non-equilibrium
simulations.</p>
<p>Use of boundary conditions is so common that the <cite>wepy</cite> simulation
manager and <cite>WepyHDF5</cite> storage backend provide an interface for
applying and saving results of boundary conditions.</p>
<p>Boundary conditions need not be used in a simulation at all however
and are strictly optional.</p>
<p>This module provides a small library of common boundary conditions and
a reference for the implementation of your own boundary
conditions. The approach to have a microframework for making boundary
conditions was chosen because the actual details of them are highly
domain dependent and it is unlikely that <cite>wepy</cite> could begin to cover
all of them.</p>
<p>A boundary condition is simply a duck typed object that follows the
interface called by the simulation manager. This means that you need
not use this microframework at all and can implement one from the
ground up. I.e. no explicit class inheritance checks are done at any
point.</p>
<p>However, to make things easy just inherit from the <cite>BoundaryCondition</cite>
base class and override the necessary functions.</p>
<p>These methods must be implemented to work correctly in the reference
simulation manager:
- warp_walkers
- progress
- update_bc</p>
<p>A non-trivial boundary condition (BC for short) will override at least
the <cite>warp_walkers</cite> method. “Warping” in <cite>wepy</cite> terminology means for a
walker to have met the constraints of the BC and have it’s state be
modified in response (think warping through space via a wormhole like
in star trek). Warps can be ‘continuous’ or ‘discontinuous’ depending
on whether the continuity of dynamics is broken due to this
effect. For example, resetting the positions of a molecular dynamics
to its starting point is discontinuous, and the change of a string
label or some other field not used by the runner to compute dynamics
is continuous.</p>
<p>For each warping event a single warping record is generated, that
should detail the event.</p>
<p>The simulation manager will also make calls to <cite>progress</cite> and
<cite>update_bc</cite>, but these are accessory to the <cite>warp_walkers</cite> method.</p>
<p>The <cite>progress</cite> call returns a continual record (one per cycle) and is
intended to report on some metrics of progress the walkers have
achieved. For example in the ligand unbinding example this can be the
minimum distance to the protein. The progress record can contain
multiple features per walker. It can also be used to make economical
use of calculations used in the BC when determining the warpings of
the walkers.</p>
<p>Additionally for routines in <cite>wepy.analysis</cite> to work properly the
<cite>warping_discontinuity</cite> classmethod (can be called from the class
without an object instance) must be implemented correctly.</p>
<p>The <cite>update_bc</cite> call is used to get changes to the BC object
itself. To use the ligand unbinding example one might lower the
threshold for unbinding if so many cycles go by without an event
occuring with perhaps introspection on the progress values.</p>
<p>Any changes in the state of the BC object should be happen in the call
stack of <cite>update_bc</cite> and reflected in the ‘bc_record’ returned to the
simulation manager.</p>
<p>Record groups generated by a BC class are:
- warping
- boundary_conditions
- progress</p>
<p>It is recommended (but optional) to have all the field names, shapes,
and dtypes for the records in the class definition for these
where possible.</p>
<p class="rubric">Notes</p>
<p>Boundary conditions in wepy simulations are optional.</p>
<p>Inherit from the
<cite>wepy.boundary_conditions.boundary.BoundaryConditions</cite> class to get
started developing your own boundary conditions.</p>
<p>Boundary conditions must implement methods: <cite>warp_walkers</cite>,
<cite>progress</cite>, and <cite>update_bc</cite> for simulation.</p>
<p>It is the programmers responsibility to handle discontinuous warping
events by implementing the <cite>warping_discontinuity</cite> class method.</p>
<p class="rubric">References</p>
<p class="rubric">Examples</p>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="wepy.boundary_conditions.boundary.html">wepy.boundary_conditions.boundary module</a></li>
<li class="toctree-l1"><a class="reference internal" href="wepy.boundary_conditions.receptor.html">wepy.boundary_conditions.receptor module</a></li>
<li class="toctree-l1"><a class="reference internal" href="wepy.boundary_conditions.unbinding.html">wepy.boundary_conditions.unbinding module</a></li>
</ul>
</div>
</div>
</div>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/wepy.svg" alt="Logo"/>
    
    <h1 class="logo logo-name">wepy</h1>
    
  </a>
</p>



<p class="blurb">A Weighted Ensemble  (WE) simulation framework</p>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../_source/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_source/quick_start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_source/introduction.html">Introduction &amp; Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_source/introduction.html#bibliography">Bibliography</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../_source/tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_source/users_guide.html">User’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_source/troubleshooting.html">Common Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_source/troubleshooting.html#faq">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_source/reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_source/glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_source/api.html">API Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_api/modules.html">Full API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../_source/general_info.html">General Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_source/news.html">News and Updates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_source/changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_source/dev_guide.html">Development Guide</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Samuel D. Lotz.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.0.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/api/wepy.boundary_conditions.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/ADicksonLab/wepy" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>