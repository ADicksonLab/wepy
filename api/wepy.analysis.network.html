
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <title>wepy.analysis.network module &#8212; wepy 1.0.1+3.gd209e73 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <div class="section" id="module-wepy.analysis.network">
<span id="wepy-analysis-network-module"></span><h1>wepy.analysis.network module<a class="headerlink" href="#module-wepy.analysis.network" title="Permalink to this headline">¶</a></h1>
<p>Module that allows for imposing a kinetically connected network
structure of weighted ensemble simulation data.</p>
<dl class="py exception">
<dt id="wepy.analysis.network.MacroStateNetworkError">
<em class="property">exception </em><code class="sig-prename descclassname">wepy.analysis.network.</code><code class="sig-name descname">MacroStateNetworkError</code><a class="reference internal" href="../_modules/wepy/analysis/network.html#MacroStateNetworkError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.MacroStateNetworkError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>Errors specific to MacroStateNetwork requirements.</p>
<dl class="py attribute">
<dt id="wepy.analysis.network.MacroStateNetworkError.args">
<code class="sig-name descname">args</code><a class="headerlink" href="#wepy.analysis.network.MacroStateNetworkError.args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.MacroStateNetworkError.with_traceback">
<code class="sig-name descname">with_traceback</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#wepy.analysis.network.MacroStateNetworkError.with_traceback" title="Permalink to this definition">¶</a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wepy.analysis.network.BaseMacroStateNetwork">
<em class="property">class </em><code class="sig-prename descclassname">wepy.analysis.network.</code><code class="sig-name descname">BaseMacroStateNetwork</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">contig_tree</span></em>, <em class="sig-param"><span class="n">assg_field_key</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">assignments</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">transition_lag_time</span><span class="o">=</span><span class="default_value">2</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#BaseMacroStateNetwork"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A base class for the MacroStateNetwork which doesn’t contain a
WepyHDF5 object. Useful for serialization of the object and can
then be reattached later to a WepyHDF5.</p>
<p>Create a network of macrostates from the simulation microstates
using a field in the trajectory data or precomputed assignments.</p>
<p>Either ‘assg_field_key’ or ‘assignments’ must be given, but not
both.</p>
<p>The lag time is default set to 2, which is the natural connection
between microstates. The lag time can be increased to vary the
kinetic accuracy of transition probabilities generated through
Markov State Modelling.</p>
<p>Alternatively the MacroStateNetwork can also be though of as just
a way of mapping macrostate properties to the underlying
microstate data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>contig_tree</strong> (<em>ContigTree object</em>) – </p></li>
<li><p><strong>assg_field_key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>conditionally optional on 'assignments'</em>) – The field in the WepyHDF5 dataset you want to generate macrostates for.</p></li>
<li><p><strong>assignments</strong> (<em>list of list of array_like of dim</em><em> (</em><em>n_traj_frames</em><em>, </em><em>observable_shape</em><em>[</em><em>0</em><em>]</em><em>, </em><em>..</em><em>)</em><em>,</em>) – <p>conditionally optional on ‘assg_field_key’</p>
<p>List of assignments for all frames in each run, where each
element of the outer list is for a run, the elements of
these lists are lists for each trajectory which are
arraylikes of shape (n_traj, observable_shape[0], …).</p>
</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.ASSIGNMENTS">
<code class="sig-name descname">ASSIGNMENTS</code><em class="property"> = 'assignments'</em><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.ASSIGNMENTS" title="Permalink to this definition">¶</a></dt>
<dd><p>Key for the microstates that are assigned to a macrostate.</p>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork._key_init">
<code class="sig-name descname">_key_init</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">contig_tree</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#BaseMacroStateNetwork._key_init"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork._key_init" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the assignments structures given the field key to use.</p>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork._assignments_init">
<code class="sig-name descname">_assignments_init</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">assignments</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#BaseMacroStateNetwork._assignments_init"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork._assignments_init" title="Permalink to this definition">¶</a></dt>
<dd><p>Given the assignments structure sets up the other necessary
structures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>assignments</strong> (<em>list of list of array_like of dim</em><em> (</em><em>n_traj_frames</em><em>, </em><em>observable_shape</em><em>[</em><em>0</em><em>]</em><em>, </em><em>..</em><em>)</em><em>,</em>) – <p>conditionally optional on ‘assg_field_key’</p>
<p>List of assignments for all frames in each run, where each
element of the outer list is for a run, the elements of
these lists are lists for each trajectory which are
arraylikes of shape (n_traj, observable_shape[0], …).</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.node_id_to_idx">
<code class="sig-name descname">node_id_to_idx</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">assg_key</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#BaseMacroStateNetwork.node_id_to_idx"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.node_id_to_idx" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a node_id (which is the assignment value) to a canonical index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>assg_key</strong> (<em>node_id</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>node_idx</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.node_idx_to_id">
<code class="sig-name descname">node_idx_to_id</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node_idx</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#BaseMacroStateNetwork.node_idx_to_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.node_idx_to_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a node index to its node id.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_idx</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>node_id</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>node_id</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.node_id_to_idx_dict">
<code class="sig-name descname">node_id_to_idx_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#BaseMacroStateNetwork.node_id_to_idx_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.node_id_to_idx_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a full mapping of node_ids to node_idxs.</p>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.node_idx_to_id_dict">
<code class="sig-name descname">node_idx_to_id_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#BaseMacroStateNetwork.node_idx_to_id_dict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.node_idx_to_id_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a full mapping of node_idxs to node_ids.</p>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.graph">
<em class="property">property </em><code class="sig-name descname">graph</code><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.graph" title="Permalink to this definition">¶</a></dt>
<dd><p>The networkx.DiGraph of the macrostate network.</p>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.num_states">
<em class="property">property </em><code class="sig-name descname">num_states</code><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.num_states" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of states in the network.</p>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.node_ids">
<em class="property">property </em><code class="sig-name descname">node_ids</code><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.node_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of the node_ids.</p>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.contig_tree">
<em class="property">property </em><code class="sig-name descname">contig_tree</code><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.contig_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>The underlying ContigTree</p>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.assg_field_key">
<em class="property">property </em><code class="sig-name descname">assg_field_key</code><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.assg_field_key" title="Permalink to this definition">¶</a></dt>
<dd><p>The string key of the field used to make macro states from the WepyHDF5 dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#wepy.analysis.network.MacroStateNetworkError" title="wepy.analysis.network.MacroStateNetworkError"><strong>MacroStateNetworkError</strong></a> – If this wasn’t used to construct the MacroStateNetwork.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.countsmat">
<em class="property">property </em><code class="sig-name descname">countsmat</code><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.countsmat" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the transition counts matrix of the network.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#wepy.analysis.network.MacroStateNetworkError" title="wepy.analysis.network.MacroStateNetworkError"><strong>MacroStateNetworkError</strong></a> – If no lag time was given.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.probmat">
<em class="property">property </em><code class="sig-name descname">probmat</code><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.probmat" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the transition probability matrix of the network.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#wepy.analysis.network.MacroStateNetworkError" title="wepy.analysis.network.MacroStateNetworkError"><strong>MacroStateNetworkError</strong></a> – If no lag time was given.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.get_node_attributes">
<code class="sig-name descname">get_node_attributes</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node_id</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#BaseMacroStateNetwork.get_node_attributes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.get_node_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the node attributes of the macrostate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_id</strong> (<em>node_id</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>macrostate_attrs</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)">dict</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.get_node_attribute">
<code class="sig-name descname">get_node_attribute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node_id</span></em>, <em class="sig-param"><span class="n">attribute_key</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#BaseMacroStateNetwork.get_node_attribute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.get_node_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the value for a specific node and attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_id</strong> (<em>node_id</em>) – </p></li>
<li><p><strong>attribute_key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>node_attribute</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.get_nodes_attribute">
<code class="sig-name descname">get_nodes_attribute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">attribute_key</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#BaseMacroStateNetwork.get_nodes_attribute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.get_nodes_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a dictionary mapping nodes to a specific attribute.</p>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.node_assignments">
<code class="sig-name descname">node_assignments</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node_id</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#BaseMacroStateNetwork.node_assignments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.node_assignments" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the microstates assigned to this macrostate as a run trace.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>node_id</strong> (<em>node_id</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>node_assignments</strong> – Run trace of the nodes assigned to this macrostate.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of tuples of ints (run_idx, traj_idx, cycle_idx)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.set_nodes_attribute">
<code class="sig-name descname">set_nodes_attribute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">key</span></em>, <em class="sig-param"><span class="n">values_dict</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#BaseMacroStateNetwork.set_nodes_attribute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.set_nodes_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Set node attributes for the key and values for each node.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – </p></li>
<li><p><strong>values_dict</strong> (<em>dict of node_id: values</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.node_groups">
<em class="property">property </em><code class="sig-name descname">node_groups</code><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.node_groups" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.set_node_group">
<code class="sig-name descname">set_node_group</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group_name</span></em>, <em class="sig-param"><span class="n">node_ids</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#BaseMacroStateNetwork.set_node_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.set_node_group" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork._set_group_nodes_attribute">
<code class="sig-name descname">_set_group_nodes_attribute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">group_name</span></em>, <em class="sig-param"><span class="n">group_node_ids</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#BaseMacroStateNetwork._set_group_nodes_attribute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork._set_group_nodes_attribute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.observables">
<em class="property">property </em><code class="sig-name descname">observables</code><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.observables" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of available observables.</p>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.node_observables">
<code class="sig-name descname">node_observables</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node_id</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#BaseMacroStateNetwork.node_observables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.node_observables" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary of observables for each node_id.</p>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.set_nodes_observable">
<code class="sig-name descname">set_nodes_observable</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">observable_name</span></em>, <em class="sig-param"><span class="n">node_values</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#BaseMacroStateNetwork.set_nodes_observable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.set_nodes_observable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.layouts">
<em class="property">property </em><code class="sig-name descname">layouts</code><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.layouts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.node_layouts">
<code class="sig-name descname">node_layouts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node_id</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#BaseMacroStateNetwork.node_layouts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.node_layouts" title="Permalink to this definition">¶</a></dt>
<dd><p>Dictionary of layouts for each node_id.</p>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.set_nodes_layout">
<code class="sig-name descname">set_nodes_layout</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">layout_name</span></em>, <em class="sig-param"><span class="n">node_values</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#BaseMacroStateNetwork.set_nodes_layout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.set_nodes_layout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.write_gexf">
<code class="sig-name descname">write_gexf</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filepath</span></em>, <em class="sig-param"><span class="n">exclude_fields</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">layout</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#BaseMacroStateNetwork.write_gexf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.write_gexf" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a graph file in the gexf format of the network.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filepath</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.nodes_to_records">
<code class="sig-name descname">nodes_to_records</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#BaseMacroStateNetwork.nodes_to_records"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.nodes_to_records" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.nodes_to_dataframe">
<code class="sig-name descname">nodes_to_dataframe</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#BaseMacroStateNetwork.nodes_to_dataframe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.nodes_to_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a dataframe of the nodes and their attributes.</p>
<p>Not all attributes will be added as they are not relevant to a
table style representation anyhow.</p>
<p>The columns will be:</p>
<ul class="simple">
<li><p>node_id</p></li>
<li><p>node_idx</p></li>
<li><p>num samples</p></li>
<li><p>Weight (if available)</p></li>
<li><p>groups (as booleans) which is anything in the ‘_groups’ namespace</p></li>
<li><p>observables : anything in the ‘_observables’ namespace and
will assume to be scalars</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.edges_to_records">
<code class="sig-name descname">edges_to_records</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#BaseMacroStateNetwork.edges_to_records"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.edges_to_records" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a dataframe of the nodes and their attributes.</p>
<p>Not all attributes will be added as they are not relevant to a
table style representation anyhow.</p>
<p>The columns will be:</p>
<ul class="simple">
<li><p>edge_id</p></li>
<li><p>source</p></li>
<li><p>target</p></li>
<li><p>type (directed or undirected)</p></li>
<li><p>transition counts (if available)</p></li>
<li><p>transition probability (if available)</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.edges_to_dataframe">
<code class="sig-name descname">edges_to_dataframe</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#BaseMacroStateNetwork.edges_to_dataframe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.edges_to_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a dataframe of the nodes and their attributes.</p>
<p>Not all attributes will be added as they are not relevant to a
table style representation anyhow.</p>
<p>The columns will be:</p>
<ul class="simple">
<li><p>transition counts (if available)</p></li>
<li><p>transition probability (if available)</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.BaseMacroStateNetwork.node_map">
<code class="sig-name descname">node_map</code><span class="sig-paren">(</span><em class="sig-param">func</em>, <em class="sig-param">map_func=&lt;class 'map'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#BaseMacroStateNetwork.node_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.BaseMacroStateNetwork.node_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Map a function over the nodes.</p>
<p>The function should take as its first argument a node_id and
the second argument a dictionary of the node attributes. This
will not give access to the underlying trajectory data in the
HDF5, to do this use the ‘node_fields_map’ function.</p>
<p>Extra args not supported use ‘functools.partial’ to make
functions with arguments for all data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>callable</em>) – The function to map over the nodes.</p></li>
<li><p><strong>map_func</strong> (<em>callable</em>) – The mapping function, implementing the <cite>map</cite> interface</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>node_values</strong> – The mapping of node_ids to the values computed by the mapped func.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict of node_id : values</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="wepy.analysis.network.MacroStateNetwork">
<em class="property">class </em><code class="sig-prename descclassname">wepy.analysis.network.</code><code class="sig-name descname">MacroStateNetwork</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">contig_tree</span></em>, <em class="sig-param"><span class="n">base_network</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">assg_field_key</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">assignments</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">transition_lag_time</span><span class="o">=</span><span class="default_value">2</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#MacroStateNetwork"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.MacroStateNetwork" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Provides an abstraction over weighted ensemble data in the form of
a kinetically connected network.</p>
<p>The MacroStateNetwork refers to any grouping of the so called
“micro” states that were observed during simulation,
i.e. trajectory frames, and not necessarily in the usual sense
used in statistical mechanics. Although it is the perfect vehicle
for working with such macrostates.</p>
<p>Because walker trajectories in weighted ensemble there is a
natural way to generate the edges between the macrostate nodes in
the network. These edges are determined automatically and a lag
time can also be specified, which is useful in the creation of
Markov State Models.</p>
<dl class="py method">
<dt id="wepy.analysis.network.MacroStateNetwork._set_base_network_to_self">
<code class="sig-name descname">_set_base_network_to_self</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">base_network</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#MacroStateNetwork._set_base_network_to_self"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.MacroStateNetwork._set_base_network_to_self" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.MacroStateNetwork.open">
<code class="sig-name descname">open</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mode</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#MacroStateNetwork.open"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.MacroStateNetwork.open" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.MacroStateNetwork.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#MacroStateNetwork.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.MacroStateNetwork.close" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.MacroStateNetwork.graph">
<em class="property">property </em><code class="sig-name descname">graph</code><a class="headerlink" href="#wepy.analysis.network.MacroStateNetwork.graph" title="Permalink to this definition">¶</a></dt>
<dd><p>The networkx.DiGraph of the macrostate network.</p>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.MacroStateNetwork.num_states">
<em class="property">property </em><code class="sig-name descname">num_states</code><a class="headerlink" href="#wepy.analysis.network.MacroStateNetwork.num_states" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of states in the network.</p>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.MacroStateNetwork.node_ids">
<em class="property">property </em><code class="sig-name descname">node_ids</code><a class="headerlink" href="#wepy.analysis.network.MacroStateNetwork.node_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of the node_ids.</p>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.MacroStateNetwork.assg_field_key">
<em class="property">property </em><code class="sig-name descname">assg_field_key</code><a class="headerlink" href="#wepy.analysis.network.MacroStateNetwork.assg_field_key" title="Permalink to this definition">¶</a></dt>
<dd><p>The string key of the field used to make macro states from the WepyHDF5 dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#wepy.analysis.network.MacroStateNetworkError" title="wepy.analysis.network.MacroStateNetworkError"><strong>MacroStateNetworkError</strong></a> – If this wasn’t used to construct the MacroStateNetwork.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.MacroStateNetwork.countsmat">
<em class="property">property </em><code class="sig-name descname">countsmat</code><a class="headerlink" href="#wepy.analysis.network.MacroStateNetwork.countsmat" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the transition counts matrix of the network.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#wepy.analysis.network.MacroStateNetworkError" title="wepy.analysis.network.MacroStateNetworkError"><strong>MacroStateNetworkError</strong></a> – If no lag time was given.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.MacroStateNetwork.probmat">
<em class="property">property </em><code class="sig-name descname">probmat</code><a class="headerlink" href="#wepy.analysis.network.MacroStateNetwork.probmat" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the transition probability matrix of the network.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="#wepy.analysis.network.MacroStateNetworkError" title="wepy.analysis.network.MacroStateNetworkError"><strong>MacroStateNetworkError</strong></a> – If no lag time was given.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.MacroStateNetwork.base_network">
<em class="property">property </em><code class="sig-name descname">base_network</code><a class="headerlink" href="#wepy.analysis.network.MacroStateNetwork.base_network" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.MacroStateNetwork.wepy_h5">
<em class="property">property </em><code class="sig-name descname">wepy_h5</code><a class="headerlink" href="#wepy.analysis.network.MacroStateNetwork.wepy_h5" title="Permalink to this definition">¶</a></dt>
<dd><p>The WepyHDF5 source object for which the contig tree is being constructed.</p>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.MacroStateNetwork.state_to_mdtraj">
<code class="sig-name descname">state_to_mdtraj</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node_id</span></em>, <em class="sig-param"><span class="n">alt_rep</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#MacroStateNetwork.state_to_mdtraj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.MacroStateNetwork.state_to_mdtraj" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an mdtraj.Trajectory object from a macrostate.</p>
<p>By default uses the “main_rep” in the WepyHDF5
object. Alternative representations of the topology can be
specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_id</strong> (<em>node_id</em>) – </p></li>
<li><p><strong>alt_rep</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – (Default value = None)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>traj</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>mdtraj.Trajectory</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.MacroStateNetwork.state_to_traj_fields">
<code class="sig-name descname">state_to_traj_fields</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node_id</span></em>, <em class="sig-param"><span class="n">alt_rep</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#MacroStateNetwork.state_to_traj_fields"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.MacroStateNetwork.state_to_traj_fields" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.MacroStateNetwork.states_to_traj_fields">
<code class="sig-name descname">states_to_traj_fields</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node_ids</span></em>, <em class="sig-param"><span class="n">alt_rep</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#MacroStateNetwork.states_to_traj_fields"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.MacroStateNetwork.states_to_traj_fields" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.MacroStateNetwork.get_node_fields">
<code class="sig-name descname">get_node_fields</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">node_id</span></em>, <em class="sig-param"><span class="n">fields</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#MacroStateNetwork.get_node_fields"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.MacroStateNetwork.get_node_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the trajectory fields for all the microstates in the
specified macrostate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node_id</strong> (<em>node_id</em>) – </p></li>
<li><p><strong>fields</strong> (<em>list of str</em>) – Field name to retrieve.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fields</strong> – A dictionary mapping the names of the fields to an array of the field.
Like fields of a trace.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict of str: array_like</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.MacroStateNetwork.iter_nodes_fields">
<code class="sig-name descname">iter_nodes_fields</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fields</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#MacroStateNetwork.iter_nodes_fields"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.MacroStateNetwork.iter_nodes_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over all nodes and return the field values for all the
microstates for each.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fields</strong> (<em>list of str</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>nodes_fields</strong> – A dictionary with an entry for each node.
Each node has it’s own dictionary of node fields for each microstate.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict of node_id: (dict of field: array_like)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.MacroStateNetwork.microstate_weights">
<code class="sig-name descname">microstate_weights</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#MacroStateNetwork.microstate_weights"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.MacroStateNetwork.microstate_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the weights of each microstate on the basis of macrostates.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>microstate_weights</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict of node_id: ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.MacroStateNetwork.macrostate_weights">
<code class="sig-name descname">macrostate_weights</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#MacroStateNetwork.macrostate_weights"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.MacroStateNetwork.macrostate_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the total weight of each macrostate.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>macrostate_weights</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict of node_id: float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.MacroStateNetwork.set_macrostate_weights">
<code class="sig-name descname">set_macrostate_weights</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#MacroStateNetwork.set_macrostate_weights"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.MacroStateNetwork.set_macrostate_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the macrostate weights and set them as node attributes
‘Weight’.</p>
</dd></dl>

<dl class="py method">
<dt id="wepy.analysis.network.MacroStateNetwork.node_fields_map">
<code class="sig-name descname">node_fields_map</code><span class="sig-paren">(</span><em class="sig-param">func</em>, <em class="sig-param">fields</em>, <em class="sig-param">map_func=&lt;class 'map'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/wepy/analysis/network.html#MacroStateNetwork.node_fields_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#wepy.analysis.network.MacroStateNetwork.node_fields_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Map a function over the nodes and microstate fields.</p>
<p>The function should take as its arguments:</p>
<ol class="arabic simple">
<li><p>node_id</p></li>
<li><p>dictionary of all the node attributes</p></li>
</ol>
<p>3. fields dictionary mapping traj field names. (The output of
<cite>MacroStateNetwork.get_node_fields</cite>)</p>
<p>This <em>will</em> give access to the underlying trajectory data in
the HDF5 which can be requested with the <cite>fields</cite>
argument. The behaviour is very similar to the
<cite>WepyHDF5.compute_observable</cite> function with the added input
data to the mapped function being all of the macrostate node
attributes.</p>
<p>Extra args not supported use ‘functools.partial’ to make
functions with arguments for all data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>callable</em>) – The function to map over the nodes.</p></li>
<li><p><strong>fields</strong> (<em>iterable of str</em>) – The microstate (trajectory) fields to provide to the mapped function.</p></li>
<li><p><strong>map_func</strong> (<em>callable</em>) – The mapping function, implementing the <cite>map</cite> interface</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>node_values</strong> – The mapping of node_ids to the values computed by the mapped func.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict of node_id : values</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>node_values</strong> – Dictionary mapping nodes to the computed values from the
mapped function.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict of node_id : values</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/wepy.svg" alt="Logo"/>
    
    <h1 class="logo logo-name">wepy</h1>
    
  </a>
</p>



<p class="blurb">A Weighted Ensemble  (WE) simulation framework</p>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../_source/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_source/quick_start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_source/introduction.html">Introduction &amp; Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_source/introduction.html#bibliography">Bibliography</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../_source/tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_source/users_guide.html">User’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_source/troubleshooting.html">Common Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_source/troubleshooting.html#faq">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_source/reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_source/glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_source/api.html">API Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_api/modules.html">Full API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../_source/general_info.html">General Information</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_source/news.html">News and Updates</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_source/changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../_source/dev_guide.html">Development Guide</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Samuel D. Lotz.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 3.0.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/api/wepy.analysis.network.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/ADicksonLab/wepy" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>